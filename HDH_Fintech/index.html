<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HDH Fintech</title>
    <style>
        /*
        ============================================
        UNIFIED COLOR SYSTEM (통합 색상 시스템)
        ============================================

        ## 기본 배경색 (Default Backgrounds):
        - White Cards/Links: #FFFFFF (순수 흰색)
        - Light Gray Areas: #F8FAFC (연한 회색)
        - Page Background: #F8FAFC (연한 회색)

        ## 호버 규칙 - 영역별 색상 (Hover Rules by Section):

        ### 좌측 사이드바 (Left Sidebar) - GOLD 계열:
        - Menu Items: #FFF7ED 배경 + #F59E0B 텍스트
        - Download Links: 기존 그라데이션 유지 + 상승 효과

        ### 중앙 콘텐츠 (Center) - GOLD 계열:
        - Process Steps: 기존 스타일 유지
        - Simulator: 기존 스타일 유지

        ### 우측 사이드바 (Right Sidebar) - GREEN 계열:
        - Notice Items: #ECFDF5 배경 + #A7F3D0 테두리
        - Diary Items: #ECFDF5 배경 + #A7F3D0 테두리
        - Settings Items: #ECFDF5 배경 + #10B981 텍스트
        - View More: #ECFDF5 배경 + #059669 텍스트
        - Warning Items: #FEE2E2 배경 (빨강 계열 유지)

        ### 바로가기/외부 링크 (Shortcuts) - BLUE 계열:
        - Favorites: #EFF6FF 배경 + #93C5FD 테두리 + #3B82F6 텍스트
        - Community Link: #EFF6FF 배경 + #93C5FD 테두리

        ### 공통 규칙:
        - Primary Buttons: 색상 유지 + translateY(-2px) + 그림자 강화
        - Secondary Buttons: #F8FAFC 배경 + 진한 테두리
        - Table Rows: #F8FAFC 배경만
        - Modal Close: #FEE2E2 배경 + #DC2626 텍스트
        - Simulator Close: #475569 배경 (회색)
        ============================================
        */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo', sans-serif;
            background: #F8FAFC;
            color: #212529;
        }

        /* 헤더 */
        .header {
            background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
            height: 70px;
            padding: 0 40px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .header-inner {
            max-width: 1400px;
            margin: 0 auto;
            height: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
        }

        .logo {
            font-size: 32px;
        }

        .header-title {
            font-size: 28px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
            color: white;
        }

        .notification {
            font-size: 24px;
            cursor: pointer;
            position: relative;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #EF4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 600;
        }

        .btn-logout {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-logout:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-1px);
        }

        /* 메인 레이아웃 */
        .main-container {
            display: grid;
            grid-template-columns: 333px minmax(400px, 720px) 333px;
            gap: 12px;
            width: 100%;
            justify-content: center;
            padding: 20px;
            min-height: calc(100vh - 84px);
        }

        /* 좌측 사이드바 (준비) */
        .left-sidebar {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .sidebar-section {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 14px;
            font-weight: 700;
            color: #64748B;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-icon {
            font-size: 18px;
        }

        .menu-item {
            padding: 10px 12px;
            margin-bottom: 6px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            color: #475569;
        }

        .menu-item:hover {
            background: #FFF7ED;
            color: #F59E0B;
        }

        .menu-item.active {
            background: #FEF3C7;
            color: #D97706;
            font-weight: 600;
        }

        .submenu-item {
            padding: 8px 12px 8px 24px;
            margin-bottom: 4px;
            font-size: 13px;
            color: #64748B;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .submenu-item:hover {
            background: #FFF7ED;
            color: #F59E0B;
        }

        .submenu-list {
            display: none;
            margin-top: 4px;
        }

        .submenu-list.active {
            display: block;
        }

        .menu-item.expandable {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .expand-arrow {
            font-size: 10px;
            transition: transform 0.2s;
        }

        .menu-item.expanded .expand-arrow {
            transform: rotate(90deg);
        }

        .link-button {
            display: block;
            padding: 10px;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
            color: white;
            text-align: center;
            border-radius: 8px;
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .link-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
        }

        /* 중앙 콘텐츠 (실행) */
        .center-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
        }

        .content-main {
            flex: 1;
        }

        .welcome-banner {
            background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
            padding: 20px 24px;
            border-radius: 12px;
            margin-bottom: 24px;
            border-left: 4px solid #F59E0B;
        }

        .welcome-title {
            font-size: 20px;
            font-weight: 700;
            color: #92400E;
            margin-bottom: 4px;
        }

        .welcome-subtitle {
            font-size: 14px;
            color: #B45309;
        }

        .process-container {
            margin-top: 20px;
        }

        .process-title {
            font-size: 18px;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 20px;
            text-align: center;
        }

        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .process-step {
            background: #F8FAFC;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #E5E7EB;
            transition: all 0.3s;
        }

        .process-step.active {
            background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%);
            border-left-color: #3B82F6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .step-number {
            width: 32px;
            height: 32px;
            background: #E5E7EB;
            color: #64748B;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
        }

        .process-step.active .step-number {
            background: #3B82F6;
            color: white;
        }

        .step-title {
            font-size: 14px;
            font-weight: 700;
            color: #1F2937;
        }

        .step-status {
            margin-left: auto;
            font-size: 20px;
        }

        .step-description {
            margin-left: 44px;
            font-size: 13px;
            color: #64748B;
        }

        /* 커뮤니티 바로가기 */
        .community-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            background: white;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.2s;
            border: 1px solid #BFDBFE;
        }

        .community-link:hover {
            background: #EFF6FF;
            border-color: #93C5FD;
            transform: translateX(2px);
        }

        .community-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .community-text {
            flex: 1;
            font-size: 13px;
            font-weight: 600;
            color: #1E40AF;
        }

        .community-arrow {
            font-size: 18px;
            font-weight: 700;
            color: #3B82F6;
        }

        /* 즐겨찾기 */
        .favorites-grid {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .favorite-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            background: white;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.2s;
            border: 1px solid #E2E8F0;
        }

        .favorite-link:hover {
            background: #EFF6FF;
            border-color: #93C5FD;
            transform: translateX(2px);
        }

        .favorite-icon {
            font-size: 16px;
            flex-shrink: 0;
        }

        .favorite-name {
            font-size: 14px;
            font-weight: 600;
            color: #475569;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .favorite-link:hover .favorite-name {
            color: #3B82F6;
        }

        /* 우측 사이드바 (결과/공지) */
        .right-sidebar {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .widget {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .widget-title {
            font-size: 14px;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .widget-icon {
            font-size: 18px;
        }

        .notice-item {
            padding: 10px;
            margin-bottom: 8px;
            background: white;
            border-radius: 8px;
            font-size: 13px;
            color: #475569;
            border: 1px solid #E2E8F0;
            border-left: 3px solid #10B981;
            cursor: pointer;
            transition: all 0.2s;
        }

        .notice-item:hover {
            background: #ECFDF5;
            border-color: #A7F3D0;
            border-left-color: #10B981;
        }

        .notice-date {
            font-size: 11px;
            color: #94A3B8;
            margin-bottom: 4px;
        }

        .warning-item {
            padding: 10px;
            margin-bottom: 8px;
            background: #FEF2F2;
            border-radius: 8px;
            font-size: 13px;
            color: #991B1B;
            border: 1px solid #FEE2E2;
            border-left: 3px solid #EF4444;
            cursor: pointer;
            transition: all 0.2s;
        }

        .warning-item:hover {
            background: #FEE2E2;
            border-color: #FECACA;
            border-left-color: #EF4444;
        }

        .result-value {
            font-family: 'SF Pro Display', 'Roboto', 'Malgun Gothic', monospace;
            font-size: 28px;
            font-weight: 700;
            color: #10B981;
            text-align: center;
            margin: 16px 0;
            letter-spacing: -1px;
        }

        .result-label {
            font-size: 12px;
            color: #64748B;
            text-align: center;
            margin-bottom: 8px;
        }

        .achievement {
            text-align: center;
            padding: 12px;
            background: #ECFDF5;
            border-radius: 8px;
            margin-top: 12px;
        }

        .achievement-text {
            font-size: 14px;
            color: #059669;
            font-weight: 600;
        }

        .diary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 6px;
            background: white;
            border-radius: 8px;
            font-size: 13px;
            border: 1px solid #E2E8F0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .diary-item:hover {
            background: #ECFDF5;
            border-color: #A7F3D0;
        }

        .diary-date {
            color: #64748B;
        }

        .diary-amount {
            font-family: 'SF Pro Display', 'Roboto', 'Malgun Gothic', monospace;
            color: #10B981;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        .diary-amount.negative {
            color: #EF4444;
        }

        .settings-item {
            cursor: pointer;
            padding: 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 8px;
            transition: all 0.2s;
            border: 1px solid #E2E8F0;
            font-size: 13px;
        }

        .settings-item:hover {
            background: #ECFDF5;
            border-color: #A7F3D0;
            color: #10B981 !important;
        }

        .view-more {
            display: block;
            text-align: center;
            padding: 8px;
            margin-top: 8px;
            color: #10B981;
            font-size: 12px;
            font-weight: 600;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .view-more:hover {
            background: #ECFDF5;
            color: #059669;
        }

        /* 모달/팝업 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 32px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #E5E7EB;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: #1F2937;
        }

        .modal-close {
            font-size: 28px;
            color: #94A3B8;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: #FEE2E2;
            color: #DC2626;
        }

        .diary-item-modal {
            display: grid;
            grid-template-columns: 80px 1fr 1fr;
            align-items: center;
            padding: 12px 16px;
            margin-bottom: 8px;
            background: #F8FAFC;
            border-radius: 8px;
            font-size: 14px;
            gap: 16px;
        }

        .diary-item-modal:last-child {
            margin-bottom: 0;
        }

        .diary-cumulative {
            font-family: 'SF Pro Display', 'Roboto', 'Malgun Gothic', monospace;
            color: #059669;
            font-weight: 600;
            letter-spacing: -0.5px;
            text-align: right;
        }

        .modal-summary {
            background: linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
            text-align: center;
            border: 2px solid #10B981;
        }

        .modal-summary-label {
            font-size: 13px;
            color: #059669;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .modal-summary-value {
            font-family: 'SF Pro Display', 'Roboto', 'Malgun Gothic', monospace;
            font-size: 32px;
            font-weight: 700;
            color: #10B981;
            letter-spacing: -1px;
        }

        /* 설정 섹션 */
        .settings-section {
            margin-bottom: 24px;
        }

        .settings-label {
            font-size: 14px;
            font-weight: 700;
            color: #0F172A;
            margin-bottom: 8px;
        }

        .settings-description {
            font-size: 13px;
            color: #64748B;
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .settings-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            font-size: 15px;
            color: #0F172A;
            font-family: 'Malgun Gothic', sans-serif;
            transition: all 0.2s;
        }

        .settings-input:focus {
            outline: none;
            border-color: #10B981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .settings-current {
            margin-top: 12px;
            padding: 12px;
            background: #F8FAFC;
            border-radius: 8px;
            font-size: 14px;
        }

        .settings-current-label {
            color: #64748B;
            font-weight: 600;
            margin-right: 8px;
        }

        .settings-current-value {
            color: #0F172A;
            font-weight: 600;
        }

        .settings-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .btn-settings-cancel {
            padding: 10px 24px;
            background: white;
            color: #64748B;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-settings-cancel:hover {
            background: #F8FAFC;
            border-color: #94A3B8;
        }

        .btn-settings-save {
            padding: 10px 24px;
            background: #10B981;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-settings-save:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        /* 시뮬레이터 스타일 */
        .simulator-container {
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            margin-top: 24px;
        }

        .simulator-title {
            font-size: 18px;
            font-weight: 700;
            color: #0F172A;
            margin-bottom: 8px;
        }

        .simulator-subtitle {
            font-size: 15px;
            color: #64748B;
            margin-bottom: 32px;
        }

        .simulator-controls {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .control-label {
            font-size: 15px;
            font-weight: 700;
            color: #0F172A;
        }

        .btn-group {
            display: flex;
            gap: 8px;
        }

        .btn-option {
            padding: 10px 20px;
            background: #F8FAFC;
            border: 2px solid #E2E8F0;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            color: #64748B;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-option:hover {
            background: #FFF7ED;
            border-color: #F59E0B;
            color: #D97706;
        }

        .btn-option.active {
            background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
            border-color: #F59E0B;
            color: white;
        }

        .btn-simulate {
            padding: 16px 32px;
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            margin-top: 8px;
        }

        .btn-simulate:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .simulator-results {
            margin-top: 32px;
            padding-top: 32px;
            border-top: 2px solid #E2E8F0;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 20px;
            font-weight: 700;
            color: #0F172A;
            margin-bottom: 24px;
        }

        .btn-close-results {
            padding: 8px 16px;
            background: #64748B;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-close-results:hover {
            background: #475569;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(100, 116, 139, 0.3);
        }

        .results-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 32px;
        }

        .summary-card {
            background: #F8FAFC;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid #E2E8F0;
        }

        .summary-card.summary-profit {
            background: linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%);
            border-color: #10B981;
        }

        .summary-label {
            font-size: 13px;
            color: #64748B;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .summary-value {
            font-family: 'SF Pro Display', 'Roboto', 'Malgun Gothic', monospace;
            font-size: 28px;
            font-weight: 700;
            color: #0F172A;
            letter-spacing: -1px;
        }

        .summary-profit .summary-value {
            color: #10B981;
        }

        .results-breakdown {
            background: #F8FAFC;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .breakdown-title {
            font-size: 18px;
            font-weight: 600;
            color: #0F172A;
            margin-bottom: 16px;
        }

        .breakdown-table {
            width: 100%;
            border-collapse: collapse;
        }

        .breakdown-table tr {
            border-bottom: 1px solid #E2E8F0;
        }

        .breakdown-table tr:last-child {
            border-bottom: none;
        }

        .breakdown-table td {
            padding: 12px 0;
            font-size: 14px;
        }

        .breakdown-table td:first-child {
            color: #475569;
        }

        .breakdown-value {
            text-align: right;
            font-family: 'SF Pro Display', 'Roboto', 'Malgun Gothic', monospace;
            font-weight: 600;
            color: #0F172A;
        }

        .breakdown-positive {
            color: #10B981;
        }

        .breakdown-negative {
            color: #EF4444;
        }

        .breakdown-highlight {
            background: #FFF7ED;
        }

        .breakdown-total {
            background: #ECFDF5;
            border-top: 2px solid #10B981;
        }

        .breakdown-total td {
            padding-top: 16px;
            padding-bottom: 16px;
        }

        .detailed-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .detailed-table thead {
            position: sticky;
            top: 0;
            background: #F59E0B;
            color: white;
            z-index: 10;
        }

        .detailed-table th {
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 13px;
        }

        .detailed-table td {
            padding: 10px 8px;
            text-align: center;
            border-bottom: 1px solid #E2E8F0;
        }

        .detailed-table tbody tr:hover {
            background: #F8FAFC;
        }

        .detailed-table .pass-row {
            background: #FFF7ED;
        }

        .detailed-table .pass-badge {
            background: #F59E0B;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 11px;
        }

        .detailed-table .fail-badge {
            background: #10B981;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 11px;
        }

        .results-visualization {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            padding: 20px;
            background: #F8FAFC;
            border-radius: 12px;
        }

        .trade-result {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            color: white;
        }

        .trade-pass {
            background: #F59E0B;
        }

        .trade-fail {
            background: #10B981;
        }

        /* 버튼 스타일 */
        .btn-alarm {
            padding: 6px 16px;
            background: #3B82F6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-alarm:hover {
            background: #2563EB;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        /* Top 10 랭킹 위젯 - 표준 디자인 시스템 */
        .ranking-widget {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .ranking-widget .widget-title {
            color: #1F2937;
            margin-bottom: 16px;
        }

        .ranking-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .ranking-year {
            font-size: 12px;
            color: #10B981;
            background: #ECFDF5;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 600;
        }

        .ranking-live {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: #10B981;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #10B981;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        .ranking-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .ranking-item {
            display: grid;
            grid-template-columns: 24px 1fr 1fr 1fr;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            background: #F8FAFC;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .ranking-item:hover {
            background: #ECFDF5;
            border-color: #A7F3D0;
            transform: translateY(-1px);
        }

        .ranking-item.top3 {
            background: #FFFBEB;
            border: 1px solid #FCD34D;
        }

        .ranking-item.top3:hover {
            background: #FEF3C7;
            border-color: #F59E0B;
            transform: translateY(-1px);
        }

        .ranking-position {
            width: 24px;
            height: 24px;
            min-width: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 12px;
            border-radius: 50%;
            background: #94A3B8;
            color: white;
        }

        /* 1-10위 랭킹 배지 색상 (레벨 색상과 동일) */
        .ranking-position.rank-1 { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); }   /* 1위: 강렬한 빨강 */
        .ranking-position.rank-2 { background: linear-gradient(135deg, #FB923C 0%, #F97316 100%); }   /* 2위: 주황 */
        .ranking-position.rank-3 { background: linear-gradient(135deg, #FACC15 0%, #EAB308 100%); color: #1F2937; }   /* 3위: 노랑 */
        .ranking-position.rank-4 { background: linear-gradient(135deg, #A3E635 0%, #84CC16 100%); color: #1F2937; }   /* 4위: 연두 */
        .ranking-position.rank-5 { background: linear-gradient(135deg, #4ADE80 0%, #22C55E 100%); }   /* 5위: 초록 */
        .ranking-position.rank-6 { background: linear-gradient(135deg, #34D399 0%, #10B981 100%); }   /* 6위: 민트 */
        .ranking-position.rank-7 { background: linear-gradient(135deg, #2DD4BF 0%, #14B8A6 100%); }   /* 7위: 청록 */
        .ranking-position.rank-8 { background: linear-gradient(135deg, #22D3EE 0%, #06B6D4 100%); }   /* 8위: 하늘색 */
        .ranking-position.rank-9 { background: linear-gradient(135deg, #60A5FA 0%, #3B82F6 100%); }   /* 9위: 파랑 */
        .ranking-position.rank-10 { background: linear-gradient(135deg, #94A3B8 0%, #64748B 100%); }  /* 10위: 회색 */

        .ranking-info {
            min-width: 0;
        }

        .ranking-name {
            font-size: 12px;
            font-weight: 600;
            color: #1F2937;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-align: left;
        }

        .ranking-profit-amount {
            font-size: 11px;
            font-weight: 600;
            color: #10B981;
            text-align: center;
            white-space: nowrap;
        }

        .ranking-change {
            font-size: 12px;
            font-weight: 600;
            text-align: right;
        }

        .ranking-grade {
            font-size: 11px;
            color: #94A3B8;
            margin-top: 2px;
        }

        .ranking-profit {
            font-family: 'SF Pro Display', 'Roboto', monospace;
            font-size: 14px;
            font-weight: 700;
            color: #10B981;
            text-align: right;
        }

        .ranking-change.up {
            color: #10B981;
        }

        .ranking-change.down {
            color: #EF4444;
        }

        .ranking-change.same {
            color: #64748B;
        }

        .grade-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
        }

        /* Level 등급 색상 - 통일된 체계 (Lv.1 회색 → Lv.10 강렬한 빨강-금색) */
        .grade-level-1 { background: linear-gradient(135deg, #94A3B8 0%, #64748B 100%); color: white; }      /* Lv.1: 회색 */
        .grade-level-2 { background: linear-gradient(135deg, #60A5FA 0%, #3B82F6 100%); color: white; }      /* Lv.2: 파랑 */
        .grade-level-3 { background: linear-gradient(135deg, #22D3EE 0%, #06B6D4 100%); color: white; }      /* Lv.3: 하늘색 */
        .grade-level-4 { background: linear-gradient(135deg, #2DD4BF 0%, #14B8A6 100%); color: white; }      /* Lv.4: 청록 */
        .grade-level-5 { background: linear-gradient(135deg, #34D399 0%, #10B981 100%); color: white; }      /* Lv.5: 민트 */
        .grade-level-6 { background: linear-gradient(135deg, #4ADE80 0%, #22C55E 100%); color: white; }      /* Lv.6: 초록 */
        .grade-level-7 { background: linear-gradient(135deg, #A3E635 0%, #84CC16 100%); color: #1F2937; }    /* Lv.7: 연두 */
        .grade-level-8 { background: linear-gradient(135deg, #FACC15 0%, #EAB308 100%); color: #1F2937; }    /* Lv.8: 노랑 */
        .grade-level-9 { background: linear-gradient(135deg, #FB923C 0%, #F97316 100%); color: white; }      /* Lv.9: 주황 */
        .grade-level-10 { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); color: white; font-weight: 700; }  /* Lv.10: 강렬한 빨강 */

        /* Level 통계 위젯 - 표준 디자인 시스템 */
        .level-stats-widget {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-top: 12px;
        }

        .level-stats-widget .widget-title {
            color: #1F2937;
            margin-bottom: 16px;
        }

        .level-stats-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #E2E8F0;
        }

        .level-stats-total {
            font-size: 12px;
            color: #64748B;
        }

        .level-stats-total span {
            color: #1F2937;
            font-weight: 600;
        }

        .level-stats-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .level-stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 10px;
            background: #F8FAFC;
            border: 1px solid #E2E8F0;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .level-stat-item:hover {
            background: #ECFDF5;
            border-color: #A7F3D0;
            transform: translateX(2px);
        }

        .level-stat-badge {
            min-width: 48px;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 700;
            text-align: center;
        }

        .level-stat-bar-container {
            flex: 1;
            height: 8px;
            background: #E2E8F0;
            border-radius: 4px;
            overflow: hidden;
        }

        .level-stat-bar {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .level-stat-info {
            display: flex;
            flex-wrap: nowrap;
            align-items: center;
            gap: 4px;
            min-width: 0;
            flex-shrink: 0;
        }

        .level-stat-count {
            font-size: 11px;
            font-weight: 600;
            color: #1F2937;
            white-space: nowrap;
        }

        .level-stat-percent {
            font-size: 9px;
            font-weight: 400;
            color: #94A3B8;
            white-space: nowrap;
        }

        /* 반응형 - 태블릿 */
        @media (max-width: 1400px) {
            .main-container {
                grid-template-columns: 220px 1fr 260px;
                gap: 16px;
            }
        }

        /* 반응형 - 작은 태블릿 */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 200px 1fr 240px;
                gap: 12px;
                padding: 16px;
            }

            .links-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* 반응형 - 모바일 */
        @media (max-width: 960px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            /* 사이드바도 세로로 쌓임 - 숨기지 않음 */
            .left-sidebar,
            .right-sidebar {
                width: 100%;
            }

            .links-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* 반응형 - 모바일 (768px) */
        @media (max-width: 768px) {
            /* 헤더 모바일 */
            .header {
                height: auto;
                padding: 16px 20px;
            }

            .header-inner {
                flex-direction: column;
                gap: 12px;
            }

            .header-left {
                justify-content: center;
            }

            .header-right {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
                gap: 12px;
            }

            .header-title {
                font-size: 22px;
            }

            /* 메인 컨테이너 */
            .main-container {
                padding: 12px;
                gap: 12px;
            }

            /* 중앙 콘텐츠 */
            .center-content {
                padding: 20px;
            }

            .welcome-banner {
                padding: 16px 20px;
            }

            .welcome-title {
                font-size: 18px;
            }

            /* 프로세스 스텝 */
            .process-step {
                padding: 16px;
            }

            .step-description {
                margin-left: 0;
                margin-top: 8px;
            }

            .step-header {
                flex-wrap: wrap;
            }

            /* 시뮬레이터 */
            .simulator-container {
                padding: 20px;
            }

            .btn-group {
                flex-wrap: wrap;
            }

            .btn-option {
                padding: 8px 14px;
                font-size: 13px;
            }

            .results-summary {
                grid-template-columns: repeat(2, 1fr);
            }

            .summary-value {
                font-size: 22px;
            }

            /* 시뮬레이션 결과 모바일 */
            .simulator-results {
                margin-top: 24px;
                padding-top: 24px;
            }

            .results-header {
                flex-direction: column;
                gap: 12px;
                font-size: 18px;
                text-align: center;
            }

            .btn-close-results {
                width: 100%;
                padding: 10px;
            }

            /* 랭킹 위젯 모바일 최적화 */
            .ranking-item {
                grid-template-columns: 22px 1fr 1fr 1fr;
                padding: 8px 10px;
                gap: 6px;
            }

            .ranking-position {
                width: 22px;
                height: 22px;
                min-width: 22px;
                font-size: 11px;
            }

            .ranking-name {
                font-size: 11px;
            }

            .ranking-profit-amount {
                font-size: 10px;
            }

            .ranking-change {
                font-size: 11px;
            }

            /* 레벨 분포 모바일 최적화 */
            .level-stat-item {
                padding: 8px 10px;
                gap: 6px;
            }

            .level-stat-badge {
                min-width: 38px;
                padding: 4px 6px;
                font-size: 10px;
            }

            .level-stat-count {
                font-size: 10px;
            }

            .level-stat-percent {
                font-size: 8px;
            }

            /* 테이블 모바일 스크롤 */
            .results-breakdown {
                padding: 16px;
                overflow-x: auto;
            }

            .breakdown-title {
                font-size: 16px;
            }

            .breakdown-table td {
                font-size: 13px;
                padding: 10px 0;
            }

            .detailed-table {
                min-width: 600px;
                font-size: 12px;
            }

            .detailed-table th,
            .detailed-table td {
                padding: 8px 4px;
            }

            /* 시각화 */
            .results-visualization {
                padding: 16px;
                gap: 4px;
            }

            .trade-result {
                width: 28px;
                height: 28px;
                font-size: 10px;
            }

            /* 모달 */
            .modal-content {
                padding: 20px;
                margin: 10px;
                width: calc(100% - 20px);
            }

            .modal-title {
                font-size: 18px;
            }

            /* 위젯 */
            .widget {
                padding: 16px;
            }

            .result-value {
                font-size: 24px;
            }

            /* 랭킹 위젯 모바일 */
            .ranking-widget {
                padding: 16px;
            }

            .ranking-item {
                padding: 8px 10px;
                gap: 10px;
            }

            .ranking-position {
                width: 24px;
                height: 24px;
                font-size: 12px;
            }

            .ranking-name {
                font-size: 12px;
            }

            .ranking-profit {
                font-size: 12px;
            }

            .grade-badge {
                font-size: 9px;
                padding: 2px 4px;
            }

            /* Level 통계 모바일 */
            .level-stats-widget {
                padding: 16px;
            }

            .level-stat-item {
                padding: 6px 8px;
                gap: 8px;
            }

            .level-stat-badge {
                min-width: 42px;
                padding: 3px 6px;
                font-size: 10px;
            }

            .level-stat-info {
                min-width: 80px;
                gap: 4px;
            }

            .level-stat-count {
                font-size: 10px;
            }

            .level-stat-percent {
                font-size: 8px;
            }
        }

        /* 작은 모바일 (480px) */
        @media (max-width: 480px) {
            .header-title {
                font-size: 18px;
            }

            .logo {
                font-size: 26px;
            }

            .user-info {
                font-size: 14px;
            }

            .btn-logout {
                padding: 6px 12px;
                font-size: 12px;
            }

            /* 프로세스 */
            .process-title {
                font-size: 16px;
            }

            .step-title {
                font-size: 13px;
            }

            .step-number {
                width: 28px;
                height: 28px;
                font-size: 14px;
            }

            .step-description {
                font-size: 12px;
            }

            /* 시뮬레이터 */
            .simulator-title {
                font-size: 16px;
            }

            .btn-group {
                gap: 6px;
            }

            .btn-option {
                padding: 8px 10px;
                font-size: 12px;
                flex: 1;
                min-width: calc(33% - 6px);
                text-align: center;
            }

            .btn-simulate {
                padding: 14px 24px;
                font-size: 16px;
            }

            .results-summary {
                grid-template-columns: 1fr 1fr;
                gap: 10px;
            }

            .summary-card {
                padding: 14px;
            }

            .summary-label {
                font-size: 11px;
            }

            .summary-value {
                font-size: 18px;
            }

            /* 시뮬레이션 결과 */
            .results-header {
                font-size: 16px;
            }

            .breakdown-title {
                font-size: 14px;
            }

            .breakdown-table td {
                font-size: 12px;
            }

            .trade-result {
                width: 24px;
                height: 24px;
                font-size: 9px;
                border-radius: 4px;
            }

            /* 사이드바 섹션 */
            .sidebar-section {
                padding: 14px;
            }

            .section-title {
                font-size: 13px;
            }

            .menu-item {
                padding: 8px 10px;
                font-size: 13px;
            }

            /* 위젯 */
            .widget-title {
                font-size: 13px;
            }

            .notice-item,
            .warning-item {
                padding: 8px;
                font-size: 12px;
            }

            .diary-item {
                padding: 8px;
                font-size: 12px;
            }

            .result-value {
                font-size: 22px;
            }

            /* 랭킹 위젯 480px 최적화 */
            .ranking-item {
                grid-template-columns: 20px 1fr 1fr 1fr;
                padding: 6px 8px;
                gap: 5px;
            }

            .ranking-position {
                width: 20px;
                height: 20px;
                min-width: 20px;
                font-size: 10px;
            }

            .ranking-name {
                font-size: 10px;
            }

            .ranking-profit-amount {
                font-size: 9px;
            }

            .ranking-change {
                font-size: 10px;
            }

            /* 레벨 분포 480px 최적화 */
            .level-stat-item {
                padding: 6px 8px;
                gap: 4px;
            }

            .level-stat-badge {
                min-width: 35px;
                padding: 3px 5px;
                font-size: 9px;
            }

            .level-stat-info {
                gap: 3px;
            }

            .level-stat-count {
                font-size: 9px;
            }

            .level-stat-percent {
                font-size: 7px;
            }
        }

        /* 매우 작은 모바일 (360px) */
        @media (max-width: 360px) {
            .header {
                padding: 12px 16px;
            }

            .header-title {
                font-size: 16px;
            }

            .logo {
                font-size: 24px;
            }

            .main-container {
                padding: 8px;
            }

            .center-content {
                padding: 16px;
            }

            .welcome-title {
                font-size: 16px;
            }

            .welcome-subtitle {
                font-size: 12px;
            }

            .btn-option {
                padding: 6px 8px;
                font-size: 11px;
                min-width: calc(50% - 4px);
            }

            .btn-simulate {
                padding: 12px 20px;
                font-size: 14px;
            }

            .summary-value {
                font-size: 16px;
            }

            .modal-content {
                padding: 16px;
            }

            .modal-summary-value {
                font-size: 24px;
            }

            /* 랭킹 위젯 360px 최적화 */
            .ranking-item {
                grid-template-columns: 18px 1fr 1fr 1fr;
                padding: 5px 6px;
                gap: 4px;
            }

            .ranking-position {
                width: 18px;
                height: 18px;
                min-width: 18px;
                font-size: 9px;
            }

            .ranking-name {
                font-size: 9px;
            }

            .ranking-profit-amount {
                font-size: 8px;
            }

            .ranking-change {
                font-size: 9px;
            }

            /* 레벨 분포 360px 최적화 */
            .level-stat-item {
                padding: 5px 6px;
                gap: 3px;
            }

            .level-stat-badge {
                min-width: 32px;
                padding: 2px 4px;
                font-size: 8px;
            }

            .level-stat-info {
                gap: 2px;
            }

            .level-stat-count {
                font-size: 8px;
            }

            .level-stat-percent {
                font-size: 7px;
            }
        }
    </style>
</head>
<body>
    <!-- 헤더 -->
    <div class="header">
        <div class="header-inner">
            <div class="header-left">
                <div class="logo">💰</div>
                <div class="header-title">HDH Fintech</div>
            </div>
            <div class="header-right">
                <div class="notification">
                    🔔
                    <div class="notification-badge">3</div>
                </div>
                <div class="user-info">
                    <span>홍길동님</span>
                </div>
                <button class="btn-logout">로그아웃</button>
            </div>
        </div>
    </div>

    <!-- 메인 컨테이너 -->
    <div class="main-container">
        <!-- 좌측 사이드바 (준비) -->
        <div class="left-sidebar">
            <!-- 공지사항 -->
            <div class="widget">
                <div class="widget-title">
                    <span class="widget-icon">📢</span>
                    공지사항
                </div>
                <div class="notice-item">
                    <div class="notice-date">2025-12-05</div>
                    시스템 업데이트 완료
                </div>
                <div class="notice-item">
                    <div class="notice-date">2025-12-03</div>
                    12/25 크리스마스 휴장 안내
                </div>
                <div class="notice-item">
                    <div class="notice-date">2025-12-01</div>
                    신규 교육 콘텐츠 추가
                </div>
            </div>

            <!-- 주의사항 -->
            <div class="widget">
                <div class="widget-title">
                    <span class="widget-icon">⚠️</span>
                    주의사항
                </div>
                <div class="warning-item">
                    오늘 저녁 거래 전 손절 설정 확인 필요
                </div>
                <div class="warning-item">
                    챌린지 계좌 잔고 모니터링 요망
                </div>
                <div class="warning-item">
                    주말 시장 휴장 - 포지션 정리 권장
                </div>
            </div>

            <!-- 커뮤니티 바로가기 -->
            <div class="sidebar-section">
                <div class="section-title">
                    <span class="section-icon">💬</span>
                    커뮤니티 바로가기
                </div>
                <a href="#" class="community-link">
                    <span class="community-text">HDH 실전 운영 커뮤니티</span>
                    <span class="community-arrow">→</span>
                </a>
            </div>

            <!-- 활동 개시 전 프로세스 -->
            <div class="sidebar-section">
                <div class="section-title">
                    <span class="section-icon">🚀</span>
                    활동 개시 전 프로세스
                </div>

                <!-- 솔루션 소개 -->
                <div class="menu-item expandable" onclick="toggleSubmenu(this)">
                    <span>솔루션 소개</span>
                    <span class="expand-arrow">▶</span>
                </div>
                <div class="submenu-list">
                    <div class="submenu-item">HDH란?</div>
                    <div class="submenu-item">10년 검증 실적</div>
                    <div class="submenu-item">헷지 전략 원리</div>
                    <div class="submenu-item">수익 구조</div>
                </div>

                <!-- 아카데미 -->
                <div class="menu-item expandable" onclick="toggleSubmenu(this)">
                    <span>아카데미</span>
                    <span class="expand-arrow">▶</span>
                </div>
                <div class="submenu-list">
                    <div class="submenu-item expandable" onclick="toggleSubmenu(this)">
                        <span>Day 1: 솔루션 이론</span>
                        <span class="expand-arrow">▶</span>
                    </div>
                    <div class="submenu-list" style="margin-left: 16px;">
                        <div class="submenu-item">1-1. 프롭펌 챌린지</div>
                        <div class="submenu-item">1-2. 금선물 CFD</div>
                        <div class="submenu-item">1-3. 헷지 전략</div>
                    </div>
                    <div class="submenu-item expandable" onclick="toggleSubmenu(this)">
                        <span>Day 2: 플랫폼 사용법</span>
                        <span class="expand-arrow">▶</span>
                    </div>
                    <div class="submenu-list" style="margin-left: 16px;">
                        <div class="submenu-item">2-1. MT5 설정</div>
                        <div class="submenu-item">2-2. 자동화 시스템</div>
                    </div>
                    <div class="submenu-item expandable" onclick="toggleSubmenu(this)">
                        <span>Day 3: 실전 시뮬레이션</span>
                        <span class="expand-arrow">▶</span>
                    </div>
                    <div class="submenu-list" style="margin-left: 16px;">
                        <div class="submenu-item">3-1. 데모 거래</div>
                        <div class="submenu-item">3-2. 최종 테스트</div>
                    </div>
                </div>

                <!-- 모의거래 -->
                <div class="menu-item expandable" onclick="toggleSubmenu(this)">
                    <span>모의거래</span>
                    <span class="expand-arrow">▶</span>
                </div>
                <div class="submenu-list">
                    <div class="submenu-item">데모 계좌 개설</div>
                    <div class="submenu-item">거래 연습</div>
                    <div class="submenu-item">결과 분석</div>
                </div>

                <!-- 추천인 코드 받기 -->
                <div class="menu-item">추천인 코드 받기</div>

                <!-- 매뉴얼 -->
                <div class="menu-item expandable" onclick="toggleSubmenu(this)">
                    <span>매뉴얼</span>
                    <span class="expand-arrow">▶</span>
                </div>
                <div class="submenu-list">
                    <div class="submenu-item">거래 가이드</div>
                    <div class="submenu-item">계좌 설정 방법</div>
                    <div class="submenu-item">비상 대응</div>
                    <div class="submenu-item">FAQ</div>
                </div>
            </div>

        </div>

        <!-- 중앙 콘텐츠 (실행) -->
        <div class="center-content">
            <div class="content-main">
                <!-- 환영 배너 -->
                <div class="welcome-banner">
                    <div class="welcome-title">환영합니다, 홍길동님! 👋</div>
                    <div class="welcome-subtitle">활동 회원 | 가입일: 2025-01-15</div>
                </div>

                <!-- 거래 프로세스 -->
                <div class="process-container">
                    <div class="process-title">📊 거래 프로세스</div>

                    <div class="process-steps">
                        <!-- Step 1 -->
                        <div class="process-step active">
                            <div class="step-header">
                                <div class="step-number">1</div>
                                <div class="step-title">거래 시간 확인 + 알람 예약</div>
                                <div class="step-status">✅</div>
                            </div>
                            <div class="step-description">
                                <span style="color: #10B981; font-weight: 600;">⏰ 오전 09:00 - 11:00</span> |
                                <span style="color: #64748B;">오후 14:00 - 16:00</span> |
                                <span style="color: #64748B;">저녁 20:00 - 22:00</span>
                                <br>
                                <button class="btn-alarm" style="margin-top: 8px;">🔔 알람 설정하기</button>
                            </div>
                        </div>

                        <!-- Step 2 -->
                        <div class="process-step active">
                            <div class="step-header">
                                <div class="step-number">2</div>
                                <div class="step-title">시스템 확인</div>
                                <div class="step-status">✅</div>
                            </div>
                            <div class="step-description">
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ MT5 연결 확인</a> |
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 챌린지 계좌</a> |
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 보험금 계좌</a>
                            </div>
                        </div>

                        <!-- Step 3 -->
                        <div class="process-step active">
                            <div class="step-header">
                                <div class="step-number">3</div>
                                <div class="step-title">코인 매입 및 송금</div>
                                <div class="step-status">⏳</div>
                            </div>
                            <div class="step-description">
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ USDT 구매</a> (업비트 등) |
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 전자지갑 송금</a> |
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 거래소 입금 확인</a>
                            </div>
                        </div>

                        <!-- Step 4 -->
                        <div class="process-step">
                            <div class="step-header">
                                <div class="step-number">4</div>
                                <div class="step-title">포지션 + TP/SL 설정</div>
                                <div class="step-status">🕐</div>
                            </div>
                            <div class="step-description">
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 챌린지 계좌</a> (Buy, TP: 21.5p, SL: 4.1p) |
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 보험금 계좌</a> (Sell, TP: 21.5p, SL: 4.1p)
                            </div>
                        </div>

                        <!-- Step 5 -->
                        <div class="process-step">
                            <div class="step-header">
                                <div class="step-number">5</div>
                                <div class="step-title">원클릭 거래 실행</div>
                                <div class="step-status">🕐</div>
                            </div>
                            <div class="step-description">
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ MT5에서 거래 실행</a>
                            </div>
                        </div>

                        <!-- Step 6 -->
                        <div class="process-step">
                            <div class="step-header">
                                <div class="step-number">6</div>
                                <div class="step-title">실시간 모니터링</div>
                                <div class="step-status">🕐</div>
                            </div>
                            <div class="step-description">
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ MT5 실시간 수익/손실 확인</a>
                                <span style="color: #64748B; margin-left: 8px;">| TP/SL 자동 작동 확인</span>
                            </div>
                        </div>

                        <!-- Step 7 -->
                        <div class="process-step">
                            <div class="step-header">
                                <div class="step-number">7</div>
                                <div class="step-title">자동 정산</div>
                                <div class="step-status">🕐</div>
                            </div>
                            <div class="step-description">
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ MT5 자동 익절/손절 실행</a>
                                <span style="color: #64748B; margin-left: 8px;">| 결과 확인</span>
                            </div>
                        </div>

                        <!-- Step 8 -->
                        <div class="process-step">
                            <div class="step-header">
                                <div class="step-number">8</div>
                                <div class="step-title">수익 출금</div>
                                <div class="step-status">🕐</div>
                            </div>
                            <div class="step-description">
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 거래소에서 출금</a> |
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 전자지갑 확인</a> |
                                <a href="#" style="color: #F59E0B; text-decoration: none; font-weight: 600;">→ 원화 환전</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 운영수익 시뮬레이터 -->
                <div class="simulator-container" id="simulatorSection">
                    <div class="simulator-title">🧮 운영수익 시뮬레이터</div>
                    <div class="simulator-subtitle">거래 횟수, 계좌 규모, 합격률을 설정하여 예상 손익을 시뮬레이션하세요</div>

                    <div class="simulator-controls">
                        <!-- 거래 횟수 -->
                        <div class="control-group">
                            <label class="control-label">거래 횟수</label>
                            <div class="btn-group">
                                <button class="btn-option active" onclick="selectTrades(30)">30회</button>
                                <button class="btn-option" onclick="selectTrades(40)">40회</button>
                                <button class="btn-option" onclick="selectTrades(50)">50회</button>
                                <button class="btn-option" onclick="selectTrades(60)">60회</button>
                                <button class="btn-option" onclick="selectTrades(70)">70회</button>
                                <button class="btn-option" onclick="selectTrades(80)">80회</button>
                                <button class="btn-option" onclick="selectTrades(90)">90회</button>
                            </div>
                        </div>

                        <!-- 계좌 규모 -->
                        <div class="control-group">
                            <label class="control-label">계좌 규모 (챌린지 참가비)</label>
                            <div class="btn-group">
                                <button class="btn-option" onclick="selectAccount(100)">$100</button>
                                <button class="btn-option active" onclick="selectAccount(300)">$300</button>
                                <button class="btn-option" onclick="selectAccount(500)">$500</button>
                            </div>
                        </div>

                        <!-- 합격률 -->
                        <div class="control-group">
                            <label class="control-label">합격률 (TP/SL 비율)</label>
                            <div class="btn-group">
                                <button class="btn-option" onclick="selectWinRate(70, 30)">70:30 (30%)</button>
                                <button class="btn-option" onclick="selectWinRate(80, 20)">80:20 (20%)</button>
                                <button class="btn-option active" onclick="selectWinRate(84, 16)">84:16 (16%)</button>
                                <button class="btn-option" onclick="selectWinRate(90, 10)">90:10 (10%)</button>
                            </div>
                        </div>

                        <button class="btn-simulate" onclick="runSimulation()">시뮬레이션 실행</button>
                    </div>

                    <!-- 결과 표시 영역 -->
                    <div class="simulator-results" id="simulatorResults" style="display: none;">
                        <div class="results-header">
                            📊 시뮬레이션 결과
                            <button class="btn-close-results" onclick="closeSimulationResults()">닫기 ✕</button>
                        </div>

                        <div class="results-summary">
                            <div class="summary-card summary-profit">
                                <div class="summary-label">최종 순이익</div>
                                <div class="summary-value" id="totalProfit">$0</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">합격 횟수</div>
                                <div class="summary-value" id="passCount">0회</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">탈락 횟수</div>
                                <div class="summary-value" id="failCount">0회</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">월 예상 수익률</div>
                                <div class="summary-value" id="monthlyReturn">0%</div>
                            </div>
                        </div>

                        <div class="results-breakdown">
                            <div class="breakdown-title">상세 손익</div>
                            <table class="breakdown-table">
                                <tr>
                                    <td>보험금 계좌 익절 수익</td>
                                    <td class="breakdown-value breakdown-positive" id="hedgeProfit">+$0</td>
                                </tr>
                                <tr>
                                    <td>보험금 계좌 손절 손실</td>
                                    <td class="breakdown-value breakdown-negative" id="hedgeLoss">-$0</td>
                                </tr>
                                <tr>
                                    <td>보험금 계좌 순손익</td>
                                    <td class="breakdown-value" id="hedgeNet">$0</td>
                                </tr>
                                <tr class="breakdown-highlight">
                                    <td>합격 시 펀딩 수익 (80%)</td>
                                    <td class="breakdown-value breakdown-positive" id="fundingProfit">+$0</td>
                                </tr>
                                <tr>
                                    <td>참가비 손실 (탈락)</td>
                                    <td class="breakdown-value breakdown-negative" id="entryLoss">-$0</td>
                                </tr>
                                <tr class="breakdown-total">
                                    <td><strong>최종 순이익</strong></td>
                                    <td class="breakdown-value" id="finalProfit" style="font-size: 18px; font-weight: 700; color: #10B981;">$0</td>
                                </tr>
                            </table>
                            <p style="margin-top: 12px; font-size: 12px; color: #94A3B8; text-align: center;">※ 거래 수수료 등은 반영하지 않은 데이터입니다</p>
                        </div>

                        <div class="results-breakdown">
                            <div class="breakdown-title">📋 회차별 상세 손익</div>
                            <div style="max-height: 500px; overflow-y: auto;">
                                <table class="detailed-table">
                                    <thead>
                                        <tr>
                                            <th>회차</th>
                                            <th>결과</th>
                                            <th>보험금 계좌</th>
                                            <th>챌린지 계좌</th>
                                            <th>회차 손익</th>
                                            <th>누적 합계</th>
                                        </tr>
                                    </thead>
                                    <tbody id="detailedTableBody">
                                        <!-- JavaScript로 동적 생성 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="results-visualization" id="resultsVisualization">
                            <!-- 시뮬레이션 결과 시각화 (합격/탈락 표시) -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 우측 사이드바 (결과/공지) -->
        <div class="right-sidebar">
            <!-- 즐겨찾기 -->
            <div class="sidebar-section">
                <div class="section-title">
                    <span class="section-icon">⭐</span>
                    즐겨찾기
                </div>
                <div class="favorites-grid">
                    <a href="https://www.wetradergroup.com/" target="_blank" class="favorite-link" title="프롭펌 챌린지 플랫폼">
                        <span class="favorite-name">WeTrader Group (위트레이더 그룹)</span>
                    </a>
                    <a href="https://ensomarket.com" target="_blank" class="favorite-link" title="실거래 계좌 브로커 (MT5)">
                        <span class="favorite-name">Enso Markets (엔쏘마켓)</span>
                    </a>
                    <a href="https://infinox.com" target="_blank" class="favorite-link" title="모의거래 계좌 브로커 (MT5)">
                        <span class="favorite-name">INFINOX (인피녹스)</span>
                    </a>
                    <a href="https://mw-wallet.io" target="_blank" class="favorite-link" title="암호화폐 입출금 허브">
                        <span class="favorite-name">MW Wallet (MW 지갑)</span>
                    </a>
                </div>
            </div>

            <!-- AI 활용 프로그램 다운로드 -->
            <div class="sidebar-section">
                <div class="section-title">
                    <span class="section-icon">🤖</span>
                    AI 활용 프로그램 다운로드
                </div>
                <div class="menu-item expandable" onclick="toggleSubmenu(this)">
                    <span>원클릭 자동 실행 프로그램</span>
                    <span class="expand-arrow">▶</span>
                </div>
                <div class="submenu-list">
                    <div class="submenu-item">설치 가이드</div>
                    <div class="submenu-item">MT5 연동 방법</div>
                </div>
            </div>

            <!-- 설정 -->
            <div class="widget">
                <div class="widget-title">
                    <span class="widget-icon">⚙️</span>
                    설정
                </div>
                <div class="settings-item" onclick="openSettingsModal(event)">
                    거래 시작일 설정
                </div>
                <div class="settings-item" style="color: #94A3B8;">
                    알림 설정
                </div>
                <div class="settings-item" style="color: #94A3B8;">
                    계좌 관리
                </div>
            </div>

            <!-- 누적 손익 -->
            <div class="widget">
                <div class="widget-title">
                    <span class="widget-icon">📊</span>
                    누적 손익
                </div>

                <!-- 월 누적 손익 -->
                <div style="margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid #E2E8F0;">
                    <div style="font-size: 12px; color: #64748B; margin-bottom: 8px;">월 누적 손익</div>
                    <div style="font-size: 12px; font-weight: 700; color: #10B981; margin-bottom: 4px;">₩5,160,000</div>
                    <div style="font-size: 12px; color: #64748B;">목표 달성률: 97% ✅</div>
                </div>

                <!-- 연 누적 손익 -->
                <div>
                    <div style="font-size: 12px; color: #64748B; margin-bottom: 8px;">연 누적 손익</div>
                    <div style="font-size: 12px; font-weight: 700; color: #10B981; margin-bottom: 4px;">₩58,920,000</div>
                    <div style="font-size: 12px; color: #64748B;">목표 달성률: 84% ✅</div>
                </div>
            </div>

            <!-- 손익 발생 일지 (1년간) -->
            <div class="widget">
                <div class="widget-title">
                    <span class="widget-icon">📝</span>
                    손익 발생 일지 (1년간)
                </div>

                <!-- 테이블 헤더 -->
                <div style="display: grid; grid-template-columns: 60px 1fr 1fr; gap: 8px; padding: 8px 0; border-bottom: 1px solid #E2E8F0; margin-bottom: 8px;">
                    <div style="font-size: 11px; font-weight: 600; color: #64748B; text-align: center;">날짜</div>
                    <div style="font-size: 11px; font-weight: 600; color: #64748B; text-align: center;">일별 손익</div>
                    <div style="font-size: 11px; font-weight: 600; color: #64748B; text-align: center;">누적 손익</div>
                </div>

                <!-- 데이터 행 -->
                <div style="display: grid; grid-template-columns: 60px 1fr 1fr; gap: 8px; padding: 6px 0; align-items: center;">
                    <div style="font-size: 11px; color: #475569; text-align: center;">12/06</div>
                    <div style="font-size: 11px; font-weight: 600; color: #10B981; text-align: center;">+167,000</div>
                    <div style="font-size: 11px; font-weight: 600; color: #1F2937; text-align: center;">5,160,000</div>
                </div>
                <div style="display: grid; grid-template-columns: 60px 1fr 1fr; gap: 8px; padding: 6px 0; align-items: center;">
                    <div style="font-size: 11px; color: #475569; text-align: center;">12/05</div>
                    <div style="font-size: 11px; font-weight: 600; color: #10B981; text-align: center;">+145,000</div>
                    <div style="font-size: 11px; font-weight: 600; color: #1F2937; text-align: center;">4,993,000</div>
                </div>
                <div style="display: grid; grid-template-columns: 60px 1fr 1fr; gap: 8px; padding: 6px 0; align-items: center;">
                    <div style="font-size: 11px; color: #475569; text-align: center;">12/04</div>
                    <div style="font-size: 11px; font-weight: 600; color: #10B981; text-align: center;">+189,000</div>
                    <div style="font-size: 11px; font-weight: 600; color: #1F2937; text-align: center;">4,848,000</div>
                </div>

                <a href="#" class="view-more" onclick="openDiaryModal(event)" style="margin-top: 8px;">전체 보기 →</a>
            </div>

            <!-- Top 10 랭킹 -->
            <div class="widget ranking-widget">
                <div class="widget-title">
                    <span class="widget-icon">🏆</span>
                    2025년 연간 누적 순이익 Top 10
                </div>
                <div class="ranking-header">
                    <div class="ranking-live">
                        <span class="live-dot"></span>
                        실시간
                    </div>
                </div>
                <div class="ranking-list" id="rankingList">
                    <!-- JavaScript로 동적 생성 -->
                </div>

                <!-- Level 통계 -->
                <div class="level-stats-widget">
                    <div class="widget-title">
                        <span class="widget-icon">📊</span>
                        Level별 분포
                    </div>
                    <div class="level-stats-header">
                        <div class="level-stats-total">전체 회원: <span id="totalMembersDisplay">1,000명</span></div>
                    </div>
                    <div class="level-stats-list" id="levelStatsList">
                        <!-- JavaScript로 동적 생성 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 수익 일지 전체 보기 모달 -->
    <div class="modal-overlay" id="diaryModal" onclick="closeDiaryModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <div class="modal-title">📝 수익 일지 (12월 전체)</div>
                <button class="modal-close" onclick="closeDiaryModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-summary">
                    <div class="modal-summary-label">12월 누적 수익</div>
                    <div class="modal-summary-value">₩5,160,000</div>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">12/06</span>
                    <span class="diary-amount">+167,000원 ✅</span>
                    <span class="diary-cumulative">₩5,160,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">12/05</span>
                    <span class="diary-amount">+183,000원 ✅</span>
                    <span class="diary-cumulative">₩4,993,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">12/04</span>
                    <span class="diary-amount">+145,000원 ✅</span>
                    <span class="diary-cumulative">₩4,810,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">12/03</span>
                    <span class="diary-amount">+159,000원 ✅</span>
                    <span class="diary-cumulative">₩4,665,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">12/02</span>
                    <span class="diary-amount">+201,000원 ✅</span>
                    <span class="diary-cumulative">₩4,506,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">12/01</span>
                    <span class="diary-amount">+178,000원 ✅</span>
                    <span class="diary-cumulative">₩4,305,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/30</span>
                    <span class="diary-amount">+192,000원 ✅</span>
                    <span class="diary-cumulative">₩4,127,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/29</span>
                    <span class="diary-amount">+156,000원 ✅</span>
                    <span class="diary-cumulative">₩3,935,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/28</span>
                    <span class="diary-amount">+188,000원 ✅</span>
                    <span class="diary-cumulative">₩3,779,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/27</span>
                    <span class="diary-amount">+174,000원 ✅</span>
                    <span class="diary-cumulative">₩3,591,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/26</span>
                    <span class="diary-amount">+163,000원 ✅</span>
                    <span class="diary-cumulative">₩3,417,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/25</span>
                    <span class="diary-amount">+195,000원 ✅</span>
                    <span class="diary-cumulative">₩3,254,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/24</span>
                    <span class="diary-amount">+149,000원 ✅</span>
                    <span class="diary-cumulative">₩3,059,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/23</span>
                    <span class="diary-amount">+187,000원 ✅</span>
                    <span class="diary-cumulative">₩2,910,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/22</span>
                    <span class="diary-amount">+172,000원 ✅</span>
                    <span class="diary-cumulative">₩2,723,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/21</span>
                    <span class="diary-amount">+158,000원 ✅</span>
                    <span class="diary-cumulative">₩2,551,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/20</span>
                    <span class="diary-amount">+181,000원 ✅</span>
                    <span class="diary-cumulative">₩2,393,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/19</span>
                    <span class="diary-amount">+166,000원 ✅</span>
                    <span class="diary-cumulative">₩2,212,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/18</span>
                    <span class="diary-amount">+194,000원 ✅</span>
                    <span class="diary-cumulative">₩2,046,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/17</span>
                    <span class="diary-amount">+151,000원 ✅</span>
                    <span class="diary-cumulative">₩1,852,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/16</span>
                    <span class="diary-amount">+176,000원 ✅</span>
                    <span class="diary-cumulative">₩1,701,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/15</span>
                    <span class="diary-amount">+189,000원 ✅</span>
                    <span class="diary-cumulative">₩1,525,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/14</span>
                    <span class="diary-amount">+162,000원 ✅</span>
                    <span class="diary-cumulative">₩1,336,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/13</span>
                    <span class="diary-amount">+197,000원 ✅</span>
                    <span class="diary-cumulative">₩1,174,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/12</span>
                    <span class="diary-amount">+154,000원 ✅</span>
                    <span class="diary-cumulative">₩977,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/11</span>
                    <span class="diary-amount">+185,000원 ✅</span>
                    <span class="diary-cumulative">₩823,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/10</span>
                    <span class="diary-amount">+170,000원 ✅</span>
                    <span class="diary-cumulative">₩638,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/09</span>
                    <span class="diary-amount">+160,000원 ✅</span>
                    <span class="diary-cumulative">₩468,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/08</span>
                    <span class="diary-amount">+191,000원 ✅</span>
                    <span class="diary-cumulative">₩308,000</span>
                </div>
                <div class="diary-item-modal">
                    <span class="diary-date">11/07</span>
                    <span class="diary-amount">+148,000원 ✅</span>
                    <span class="diary-cumulative">₩148,000</span>
                </div>
            </div>
        </div>
    </div>

    <!-- 설정 모달 -->
    <div class="modal-overlay" id="settingsModal" onclick="closeSettingsModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <div class="modal-title">⚙️ 거래 시작일 설정</div>
                <button class="modal-close" onclick="closeSettingsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <div class="settings-label">거래 시작일</div>
                    <div class="settings-description">수익 일지 및 누적 수익 계산의 기준이 되는 거래 시작일을 설정합니다.</div>
                    <input type="date" id="startDateInput" class="settings-input" value="2024-11-07">
                    <div class="settings-current">
                        <span class="settings-current-label">현재 설정:</span>
                        <span class="settings-current-value" id="currentStartDate">2024년 11월 7일</span>
                    </div>
                </div>
                <div class="settings-actions">
                    <button class="btn-settings-cancel" onclick="closeSettingsModal()">취소</button>
                    <button class="btn-settings-save" onclick="saveStartDate()">저장</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleSubmenu(element) {
            // 클릭한 menu-item의 다음 형제 요소 (submenu-list) 찾기
            const submenuList = element.nextElementSibling;

            // expanded 클래스 토글
            element.classList.toggle('expanded');

            // submenu-list의 active 클래스 토글
            submenuList.classList.toggle('active');
        }

        function openDiaryModal(event) {
            event.preventDefault();
            document.getElementById('diaryModal').classList.add('active');
        }

        function closeDiaryModal(event) {
            if (event) {
                event.preventDefault();
            }
            document.getElementById('diaryModal').classList.remove('active');
        }

        function openSettingsModal(event) {
            event.preventDefault();
            document.getElementById('settingsModal').classList.add('active');
        }

        function closeSettingsModal(event) {
            if (event) {
                event.preventDefault();
            }
            document.getElementById('settingsModal').classList.remove('active');
        }

        function saveStartDate() {
            const dateInput = document.getElementById('startDateInput');
            const selectedDate = new Date(dateInput.value);

            // 날짜 포맷팅
            const year = selectedDate.getFullYear();
            const month = selectedDate.getMonth() + 1;
            const day = selectedDate.getDate();
            const formattedDate = `${year}년 ${month}월 ${day}일`;

            // 현재 설정 업데이트
            document.getElementById('currentStartDate').textContent = formattedDate;

            // 저장 완료 알림
            alert(`거래 시작일이 ${formattedDate}로 설정되었습니다.`);

            // 모달 닫기
            closeSettingsModal();
        }

        // 시뮬레이터 변수
        let simConfig = {
            trades: 30,
            account: 300,
            winRateTP: 84,
            winRateSL: 16
        };

        function selectTrades(trades) {
            simConfig.trades = trades;
            document.querySelectorAll('.control-group:nth-child(1) .btn-option').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function selectAccount(account) {
            simConfig.account = account;
            document.querySelectorAll('.control-group:nth-child(2) .btn-option').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function selectWinRate(tp, sl) {
            simConfig.winRateTP = tp;
            simConfig.winRateSL = sl;
            document.querySelectorAll('.control-group:nth-child(3) .btn-option').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function runSimulation() {
            const { trades, account, winRateTP, winRateSL } = simConfig;

            // PDF 기반 계산식
            const tpProfit = account === 100 ? 123 : account === 300 ? 369 : 615; // TP 도달 시 보험금 계좌 수익
            const slLoss = account === 100 ? 645 : account === 300 ? 1935 : 3225; // SL 도달 시 보험금 계좌 손실
            const fundingAmount = account * 10 * 0.9; // 펀딩 계좌 금액 (10배 * 90%)
            const fundingProfit = fundingAmount * 0.8; // 펀딩 수익의 80%

            // 합격률 계산 (winRateSL = 합격 확률)
            const passRate = winRateSL / 100;
            const passCount = Math.round(trades * passRate);
            const failCount = trades - passCount;

            // 손익 계산
            const hedgeProfitTotal = failCount * tpProfit; // 보험금 계좌 익절 수익
            const hedgeLossTotal = passCount * slLoss; // 보험금 계좌 손절 손실
            const hedgeNet = hedgeProfitTotal - hedgeLossTotal; // 보험금 계좌 순손익

            const fundingProfitTotal = passCount * fundingProfit; // 합격 시 펀딩 수익
            const entryLossTotal = failCount * account; // 참가비 손실

            const totalProfit = hedgeNet + fundingProfitTotal - entryLossTotal;

            // 월 수익률 계산 (필요 자본 = 보험금 계좌 + 참가비)
            const requiredCapital = account * trades + account * 50; // 마진 포함
            const monthlyReturn = (totalProfit / requiredCapital * 100).toFixed(1);

            // 랜덤 시뮬레이션 결과 생성
            const results = [];
            for (let i = 0; i < trades; i++) {
                results.push(Math.random() < passRate);
            }

            // 결과 표시
            document.getElementById('totalProfit').textContent = `$${totalProfit.toLocaleString()}`;
            document.getElementById('passCount').textContent = `${passCount}회`;
            document.getElementById('failCount').textContent = `${failCount}회`;
            document.getElementById('monthlyReturn').textContent = `${monthlyReturn}%`;

            document.getElementById('hedgeProfit').textContent = `+$${hedgeProfitTotal.toLocaleString()}`;
            document.getElementById('hedgeLoss').textContent = `-$${hedgeLossTotal.toLocaleString()}`;
            document.getElementById('hedgeNet').textContent = `$${hedgeNet.toLocaleString()}`;
            document.getElementById('fundingProfit').textContent = `+$${fundingProfitTotal.toLocaleString()}`;
            document.getElementById('entryLoss').textContent = `-$${entryLossTotal.toLocaleString()}`;
            document.getElementById('finalProfit').textContent = `$${totalProfit.toLocaleString()}`;

            // 회차별 상세 테이블 생성
            const detailedTableBody = document.getElementById('detailedTableBody');
            detailedTableBody.innerHTML = '';

            let cumulative = 0;
            results.forEach((isPass, index) => {
                const round = index + 1;
                const hedgeAmount = isPass ? -slLoss : tpProfit;
                const challengeAmount = isPass ? fundingProfit : -account;
                const roundProfit = hedgeAmount + challengeAmount;
                cumulative += roundProfit;

                const tr = document.createElement('tr');
                if (isPass) tr.classList.add('pass-row');

                tr.innerHTML = `
                    <td>${round}</td>
                    <td><span class="${isPass ? 'pass-badge' : 'fail-badge'}">${isPass ? '🏆 합격' : '탈락'}</span></td>
                    <td style="color: ${hedgeAmount > 0 ? '#10B981' : '#EF4444'}; font-weight: 600;">
                        ${hedgeAmount > 0 ? '+' : ''}$${hedgeAmount.toLocaleString()}
                    </td>
                    <td style="color: ${challengeAmount > 0 ? '#10B981' : '#EF4444'}; font-weight: 600;">
                        ${challengeAmount > 0 ? '+' : ''}$${challengeAmount.toLocaleString()}
                    </td>
                    <td style="color: ${roundProfit > 0 ? '#10B981' : '#EF4444'}; font-weight: 600;">
                        ${roundProfit > 0 ? '+' : ''}$${roundProfit.toLocaleString()}
                    </td>
                    <td style="font-family: 'SF Pro Display', 'Roboto', monospace; font-weight: 700; color: ${cumulative > 0 ? '#10B981' : cumulative < 0 ? '#EF4444' : '#64748B'};">
                        ${cumulative > 0 ? '+' : ''}$${cumulative.toLocaleString()}
                    </td>
                `;
                detailedTableBody.appendChild(tr);
            });

            // 시각화 생성
            const visualization = document.getElementById('resultsVisualization');
            visualization.innerHTML = '';

            results.forEach((isPass, index) => {
                const div = document.createElement('div');
                div.className = `trade-result ${isPass ? 'trade-pass' : 'trade-fail'}`;
                div.textContent = isPass ? '🏆' : index + 1;
                div.title = isPass ? `${index + 1}회: 합격` : `${index + 1}회: 탈락`;
                visualization.appendChild(div);
            });

            // 결과 영역 표시
            document.getElementById('simulatorResults').style.display = 'block';

            // 결과로 스크롤
            document.getElementById('simulatorResults').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function closeSimulationResults() {
            document.getElementById('simulatorResults').style.display = 'none';
        }

        // ===== Top 10 랭킹 시스템 =====

        // 등급 기준 (구성비율 기반 - 백분위)
        // Level 10: 상위 1%, Level 9: 상위 3%, Level 8: 상위 7%, Level 7: 상위 13%
        // Level 6: 상위 21%, Level 5: 상위 31%, Level 4: 상위 43%, Level 3: 상위 57%
        // Level 2: 상위 73%, Level 1: 상위 91% (나머지)
        const levelPercentiles = [
            { level: 10, percentile: 1 },
            { level: 9, percentile: 3 },
            { level: 8, percentile: 7 },
            { level: 7, percentile: 13 },
            { level: 6, percentile: 21 },
            { level: 5, percentile: 31 },
            { level: 4, percentile: 43 },
            { level: 3, percentile: 57 },
            { level: 2, percentile: 73 },
            { level: 1, percentile: 91 }
        ];

        // 순위 기반 등급 계산 (총 회원 수 대비 현재 순위)
        function getGradeByRank(rank, totalMembers) {
            const percentile = (rank / totalMembers) * 100;

            for (const levelInfo of levelPercentiles) {
                if (percentile <= levelInfo.percentile) {
                    return { name: `Lv.${levelInfo.level}`, class: `level-${levelInfo.level}`, level: levelInfo.level };
                }
            }
            return { name: 'Lv.1', class: 'level-1', level: 1 };
        }

        // 샘플 회원 데이터 (실제 구현 시 API 연동)
        // 전체 회원 수 시뮬레이션: 1000명 중 Top 10
        const totalMembers = 1000;
        const rankingData = [
            { id: 1, name: '김영수', profit: 127500000, change: 'up', changeAmount: 2, rank: 1 },
            { id: 2, name: '이정민', profit: 98200000, change: 'same', changeAmount: 0, rank: 2 },
            { id: 3, name: '박서연', profit: 85600000, change: 'up', changeAmount: 1, rank: 3 },
            { id: 4, name: '최현우', profit: 72300000, change: 'down', changeAmount: 1, rank: 4 },
            { id: 5, name: '정민준', profit: 65800000, change: 'up', changeAmount: 3, rank: 5 },
            { id: 6, name: '강지훈', profit: 54200000, change: 'same', changeAmount: 0, rank: 6 },
            { id: 7, name: '조은서', profit: 48700000, change: 'down', changeAmount: 2, rank: 7 },
            { id: 8, name: '윤하늘', profit: 42100000, change: 'up', changeAmount: 1, rank: 8 },
            { id: 9, name: '장도윤', profit: 38500000, change: 'same', changeAmount: 0, rank: 9 },
            { id: 10, name: '임수현', profit: 31200000, change: 'down', changeAmount: 1, rank: 10 }
        ];

        function formatProfit(amount) {
            if (amount >= 100000000) {
                return (amount / 100000000).toFixed(1) + '억';
            } else if (amount >= 10000000) {
                return (amount / 10000000).toFixed(1) + '천만';
            } else if (amount >= 10000) {
                return Math.floor(amount / 10000) + '만';
            }
            return amount.toLocaleString() + '원';
        }

        function getPositionClass(position) {
            return `rank-${position}`;
        }

        function renderRankingList() {
            const container = document.getElementById('rankingList');
            if (!container) return;

            let html = '';
            rankingData.forEach((member, index) => {
                const position = index + 1;
                const grade = getGradeByRank(member.rank, totalMembers);
                const isTop3 = position <= 3;
                const positionClass = getPositionClass(position);

                let changeIcon = '';
                let changeClass = member.change;
                if (member.change === 'up') {
                    changeIcon = `▲${member.changeAmount}`;
                } else if (member.change === 'down') {
                    changeIcon = `▼${member.changeAmount}`;
                } else {
                    changeIcon = '-';
                }

                // 만원 단위로 표시
                const profitInMan = Math.floor(member.profit / 10000);
                const profitDisplay = profitInMan.toLocaleString() + '만원';

                html += `
                    <div class="ranking-item ${isTop3 ? 'top3' : ''}">
                        <div class="ranking-position ${positionClass}">${position}</div>
                        <div class="ranking-info">
                            <div class="ranking-name">${member.name}</div>
                        </div>
                        <div class="ranking-profit-amount">+${profitDisplay}</div>
                        <div class="ranking-change ${changeClass}">${changeIcon}</div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // 실시간 업데이트 시뮬레이션 (30초마다)
        function simulateRankingUpdate() {
            // 랜덤하게 수익 변동 시뮬레이션
            rankingData.forEach(member => {
                const fluctuation = Math.floor(Math.random() * 500000) - 200000;
                member.profit = Math.max(0, member.profit + fluctuation);

                // 랜덤하게 순위 변동
                const changeType = Math.random();
                if (changeType < 0.3) {
                    member.change = 'up';
                    member.changeAmount = Math.floor(Math.random() * 3) + 1;
                } else if (changeType < 0.5) {
                    member.change = 'down';
                    member.changeAmount = Math.floor(Math.random() * 2) + 1;
                } else {
                    member.change = 'same';
                    member.changeAmount = 0;
                }
            });

            // 수익 순으로 정렬
            rankingData.sort((a, b) => b.profit - a.profit);

            // 다시 렌더링
            renderRankingList();
        }

        // Level별 통계 데이터 (상위 % 기준)
        // Level 10: 상위 1%, Level 9: 상위 3%, Level 8: 상위 7%, ...
        // 색상: Lv.1 회색 → Lv.10 강렬한 빨강 (랭킹과 동일한 색상 체계)
        const levelDistribution = [
            { level: 10, topPercent: 1, rangePercent: 1, color: '#EF4444' },   // Lv.10: 강렬한 빨강
            { level: 9, topPercent: 3, rangePercent: 2, color: '#FB923C' },    // Lv.9: 주황
            { level: 8, topPercent: 7, rangePercent: 4, color: '#FACC15' },    // Lv.8: 노랑
            { level: 7, topPercent: 13, rangePercent: 6, color: '#A3E635' },   // Lv.7: 연두
            { level: 6, topPercent: 21, rangePercent: 8, color: '#4ADE80' },   // Lv.6: 초록
            { level: 5, topPercent: 31, rangePercent: 10, color: '#34D399' },  // Lv.5: 민트
            { level: 4, topPercent: 43, rangePercent: 12, color: '#2DD4BF' },  // Lv.4: 청록
            { level: 3, topPercent: 57, rangePercent: 14, color: '#22D3EE' },  // Lv.3: 하늘색
            { level: 2, topPercent: 73, rangePercent: 16, color: '#60A5FA' },  // Lv.2: 파랑
            { level: 1, topPercent: 91, rangePercent: 18, color: '#94A3B8' }   // Lv.1: 회색
        ];

        function renderLevelStats() {
            const container = document.getElementById('levelStatsList');
            const totalDisplay = document.getElementById('totalMembersDisplay');
            if (!container) return;

            totalDisplay.textContent = totalMembers.toLocaleString() + '명';

            let html = '';
            levelDistribution.forEach(level => {
                const memberCount = Math.round(totalMembers * level.rangePercent / 100);

                html += `
                    <div class="level-stat-item">
                        <div class="level-stat-badge grade-level-${level.level}">Lv.${level.level}</div>
                        <div class="level-stat-bar-container">
                            <div class="level-stat-bar" style="width: ${level.topPercent}%; background: ${level.color};"></div>
                        </div>
                        <div class="level-stat-info">
                            <div class="level-stat-count">${memberCount.toLocaleString()}명</div>
                            <div class="level-stat-percent">상위 ${level.topPercent}%</div>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // 페이지 로드 시 랭킹 및 Level 통계 렌더링
        document.addEventListener('DOMContentLoaded', function() {
            renderRankingList();
            renderLevelStats();
            // 30초마다 업데이트 (실제 구현 시 WebSocket 또는 API 폴링)
            setInterval(simulateRankingUpdate, 30000);
        });
    </script>
</body>
</html>
